(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"./Picker/Picker.mdx":function(e,n,t){"use strict";t.r(n);var r=t("./node_modules/react/index.js"),o=t.n(r),i=t("./node_modules/@mdx-js/tag/dist/index.js"),a=t("./node_modules/docz/dist/index.m.js"),s=t("./node_modules/prop-types/index.js"),c=t.n(s);t("./Picker/Picker.scss");function l(e){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return(u="function"===typeof Symbol&&"symbol"===l(Symbol.iterator)?function(e){return l(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":l(e)})(e)}function p(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function f(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,n,t){return n&&f(e.prototype,n),t&&f(e,t),e}function m(e,n){return!n||"object"!==u(n)&&"function"!==typeof n?g(e):n}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&y(e,n)}function y(e,n){return(y=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var k=function(e){function n(e){var t;return p(this,n),v(g(g(t=m(this,d(n).call(this,e)))),"computeTranslate",function(e){var n=e.options,r=e.value,o=e.itemHeight,i=e.columnHeight,a=n.indexOf(r);return a<0&&(t.onValueSelected(n[0]),a=0),{scrollerTranslate:i/2-o/2-a*o,minTranslate:i/2-o*n.length+o/2,maxTranslate:i/2-o/2}}),v(g(g(t)),"onValueSelected",function(e){t.props.onChange(t.props.name,e)}),v(g(g(t)),"handleTouchStart",function(e){var n=e.targetTouches[0].pageY;t.setState(function(e){var t=e.scrollerTranslate;return{startTouchY:n,startScrollerTranslate:t}})}),v(g(g(t)),"handleTouchMove",function(e){e.preventDefault();var n=e.targetTouches[0].pageY;t.setState(function(e){var t=e.isMoving,r=e.startTouchY,o=e.startScrollerTranslate,i=e.minTranslate,a=e.maxTranslate;if(!t)return{isMoving:!0};var s=o+n-r;return s<i?s=i-Math.pow(i-s,.8):s>a&&(s=a+Math.pow(s-a,.8)),{scrollerTranslate:s}})}),v(g(g(t)),"handleTouchEnd",function(){t.state.isMoving&&(t.setState({isMoving:!1,startTouchY:0,startScrollerTranslate:0}),setTimeout(function(){var e,n=t.props,r=n.options,o=n.itemHeight,i=t.state,a=i.scrollerTranslate,s=i.minTranslate,c=i.maxTranslate;e=a>c?0:a<s?r.length-1:-Math.floor((a-c)/o),t.onValueSelected(r[e])},0))}),v(g(g(t)),"handleTouchCancel",function(){t.state.isMoving&&t.setState(function(e){return{isMoving:!1,startTouchY:0,startScrollerTranslate:0,scrollerTranslate:e}})}),v(g(g(t)),"handleItemClick",function(e){e!==t.props.value&&t.onValueSelected(e)}),t.state=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){v(e,n,t[n])})}return e}({isMoving:!1,startTouchY:0,startScrollerTranslate:0},t.computeTranslate(e)),t}return b(n,r["Component"]),h(n,[{key:"componentWillReceiveProps",value:function(e){this.state.isMoving||this.setState(this.computeTranslate(e))}},{key:"renderItems",value:function(){var e=this,n=this.props,t=n.options,r=n.itemHeight,i=n.value;return t.map(function(n,t){var a={height:r+"px",lineHeight:r+"px"},s="picker-item".concat(n===i?" picker-item-selected":"");return o.a.createElement("div",{key:t,className:s,style:a,onClick:function(){return e.handleItemClick(n)}},n)})}},{key:"render",value:function(){var e="translate3d(0, ".concat(this.state.scrollerTranslate,"px, 0)"),n={MsTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e};return this.state.isMoving&&(n.transitionDuration="0ms"),o.a.createElement("div",{className:"picker-column"},o.a.createElement("div",{className:"picker-scroller",style:n,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchCancel},this.renderItems()))}}]),n}();v(k,"propTypes",{options:c.a.array.isRequired,name:c.a.string.isRequired,value:c.a.any.isRequired,itemHeight:c.a.number.isRequired,columnHeight:c.a.number.isRequired,onChange:c.a.func.isRequired});var T=function(e){function n(){return p(this,n),m(this,d(n).apply(this,arguments))}return b(n,r["Component"]),h(n,[{key:"renderInner",value:function(){var e=this.props,n=e.optionGroups,t=e.valueGroups,r=e.itemHeight,i=e.height,a=e.onChange,s={height:r,marginTop:-r/2},c=[];for(var l in n)c.push(o.a.createElement(k,{key:l,name:l,options:n[l],value:t[l],itemHeight:r,columnHeight:i,onChange:a}));return o.a.createElement("div",{className:"picker-inner"},c,o.a.createElement("div",{className:"picker-highlight",style:s}))}},{key:"render",value:function(){var e={height:this.props.height};return o.a.createElement("div",{className:"picker-container",style:e},this.renderInner())}}]),n}();function w(e){return(w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function S(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,n){return!n||"object"!==w(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,n){return(x=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function _(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}v(T,"propTypes",{optionGroups:c.a.object.isRequired,valueGroups:c.a.object.isRequired,onChange:c.a.func.isRequired,itemHeight:c.a.number,height:c.a.number}),v(T,"defaultProps",{itemHeight:36,height:216});n.default=function(e){var n=e.components,t=_(e,["components"]);return o.a.createElement(i.MDXTag,{name:"wrapper",components:n},o.a.createElement(i.MDXTag,{name:"h1",components:n,props:{id:"picker"}},"Picker"),o.a.createElement(a.PropsTable,{of:T}),o.a.createElement(i.MDXTag,{name:"h2",components:n,props:{id:"\u7528\u4f8b"}},"\u7528\u4f8b"),o.a.createElement(a.Playground,{__codesandbox:"undefined",__position:1,__code:"class App extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      valueGroups: {\n        title: 'Mr.',\n        firstName: 'Micheal',\n        secondName: 'Jordan',\n      },\n      optionGroups: {\n        title: ['Mr.', 'Mrs.', 'Ms.', 'Dr.'],\n        firstName: ['John', 'Micheal', 'Elizabeth'],\n        secondName: ['Lennon', 'Jackson', 'Jordan', 'Legend', 'Taylor'],\n      },\n    }\n  }\n  handleChange(name, value) {\n    this.setState(({ valueGroups }) => ({\n      valueGroups: {\n        ...valueGroups,\n        [name]: value,\n      },\n    }))\n  }\n  render() {\n    const { optionGroups, valueGroups } = this.state\n    return (\n      <Picker\n        optionGroups={optionGroups}\n        valueGroups={valueGroups}\n        onChange={this.handleChange.bind(this)}\n      />\n    )\n  }\n}",__scope:{props:t,Picker:T}},function(e){function n(){var e;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),(e=j(this,P(n).call(this))).state={valueGroups:{title:"Mr.",firstName:"Micheal",secondName:"Jordan"},optionGroups:{title:["Mr.","Mrs.","Ms.","Dr."],firstName:["John","Micheal","Elizabeth"],secondName:["Lennon","Jackson","Jordan","Legend","Taylor"]}},e}var t,r,i;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&x(e,n)}(n,o.a.Component),t=n,(r=[{key:"handleChange",value:function(e,n){this.setState(function(t){return{valueGroups:function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){O(e,n,t[n])})}return e}({},t.valueGroups,O({},e,n))}})}},{key:"render",value:function(){var e=this.state,n=e.optionGroups,t=e.valueGroups;return o.a.createElement(T,{optionGroups:n,valueGroups:t,onChange:this.handleChange.bind(this)})}}])&&S(t.prototype,r),i&&S(t,i),n}()))}},"./Picker/Picker.scss":function(e,n,t){var r=t("./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./Picker/Picker.scss");"string"===typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0};t("./node_modules/style-loader/lib/addStyles.js")(r,o);r.locals&&(e.exports=r.locals)},"./node_modules/css-loader/index.js!./node_modules/sass-loader/lib/loader.js!./Picker/Picker.scss":function(e,n,t){(e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".picker-container {\n  z-index: 10001;\n  width: 100%; }\n  .picker-container, .picker-container *, .picker-container *:before, .picker-container *:after {\n    box-sizing: border-box; }\n  .picker-container .picker-inner {\n    position: relative;\n    display: flex;\n    justify-content: center;\n    height: 100%;\n    padding: 0 20px;\n    font-size: 1.2em;\n    -webkit-mask-box-image: linear-gradient(to top, transparent, transparent 5%, white 20%, white 80%, transparent 95%, transparent); }\n  .picker-container .picker-column {\n    flex: 1 1;\n    position: relative;\n    max-height: 100%;\n    overflow: hidden;\n    text-align: center; }\n    .picker-container .picker-column .picker-scroller {\n      transition: 300ms;\n      transition-timing-function: ease-out; }\n    .picker-container .picker-column .picker-item {\n      position: relative;\n      padding: 0 10px;\n      white-space: nowrap;\n      color: #999999;\n      overflow: hidden;\n      text-overflow: ellipsis; }\n      .picker-container .picker-column .picker-item.picker-item-selected {\n        color: #222; }\n  .picker-container .picker-highlight {\n    position: absolute;\n    top: 50%;\n    left: 0;\n    width: 100%;\n    pointer-events: none; }\n    .picker-container .picker-highlight:before, .picker-container .picker-highlight:after {\n      content: ' ';\n      position: absolute;\n      left: 0;\n      right: auto;\n      display: block;\n      width: 100%;\n      height: 1px;\n      background-color: #d9d9d9;\n      transform: scaleY(0.5); }\n    .picker-container .picker-highlight:before {\n      top: 0;\n      bottom: auto; }\n    .picker-container .picker-highlight:after {\n      bottom: 0;\n      top: auto; }\n",""])}}]);