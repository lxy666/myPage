(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"./hoc/Bindable.mdx":function(e,n,t){"use strict";t.r(n);var a=t("./node_modules/react/index.js"),r=t.n(a),o=t("./node_modules/@mdx-js/tag/dist/index.js"),i=t("./node_modules/docz/dist/index.m.js"),l=t("./node_modules/prop-types/index.js"),u=t.n(l);function c(e){return(c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return(s="function"===typeof Symbol&&"symbol"===c(Symbol.iterator)?function(e){return c(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":c(e)})(e)}function d(){return(d=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}).apply(this,arguments)}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},a=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.forEach(function(n){g(e,n,t[n])})}return e}function m(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,n){return(A=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var v=function(e){return e=e||function(){return null},function(n){var t=function(t){function o(n){var t,a,r;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),a=this,r=b(o).call(this,n),(t=!r||"object"!==s(r)&&"function"!==typeof r?f(a):r).state={data:p({},e(n))},t.bind=t.bind.bind(f(f(t))),Object.defineProperty(t.bind,"data",{get:function(){return t.state.data},set:function(e){return t.setState({data:e})}}),t.bind.set=t.set.bind(f(f(t))),t}var i,l,u;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&A(e,n)}(o,a["Component"]),i=o,(l=[{key:"set",value:function(e){"string"===typeof e&&(console.warn("bindable set(name, value) is deprecated, use set({ name: value }) instead."),e=g({},e,arguments[1])),e=p({},this.state.data,e),this.setState({data:e})}},{key:"bind",value:function(e,n){var t=this,a=this.state.data[e];return{name:e,value:a=void 0===a||null===a?"":a,onChange:function(a){var r=t.filterValue(e,a.target.value,n);t.set(g({},e,r))}}}},{key:"filterValue",value:function(e,n,t){var a=this.state.data,r=a[e];return t&&!1===t({name:e,value:n,lastValue:r,data:a})?r:n}},{key:"render",value:function(){return r.a.createElement(n,d({},this.props,{bind:this.bind,binddata:this.state.data}))}}])&&m(i.prototype,l),u&&m(i,u),o}();return g(t,"propTypes",{binddata:u.a.object}),t}},E=function(e){return v()(e)};function h(e){return(h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function w(e,n){return!n||"object"!==h(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,n){return(O=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function F(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}n.default=function(e){var n=e.components,t=F(e,["components"]);return r.a.createElement(o.MDXTag,{name:"wrapper",components:n},r.a.createElement(o.MDXTag,{name:"h1",components:n,props:{id:"bindable"}},"bindable"),r.a.createElement(i.PropsTable,{of:E}),r.a.createElement(o.MDXTag,{name:"h2",components:n,props:{id:"\u7528\u4f8b"}},"\u7528\u4f8b"),r.a.createElement(i.Playground,{__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkqiUrGiJkjK8Eq1QyZnWTWWoXY2Hm_To5G67mScAIAlCKRSsDsIxeeHGNjsFU83iWM1g_m6mVsSPMtjgoRg62oqTxb3qiAAlGYjJIzBAiDNKAIpgAlGCuchTMBCIjsToSqXtADc_MFwrFioIABEAPIAWXYMsi8q6koIAFoTkQVWqhSKHJEhah9EbZfKcJJsK5BbAcJpbagzOLzXr9TguhgMgAKdbMNhidYWRh4ADMYkc6pdNE46pF2XYuImPScwJJNQEiCkacT5gs7EYMzE0YaUyiyRdBdc6BYMWo8XYMyEd3GlFSMCmL3Ykcw_VQKULMASnKkTaTDczztdklryekCcUZhOvSI-hwaQIAFFYKeaAAhRINdDRzrCAjtbmoTnKhTKb2-mB_S0ChqFoehEBUPMpg8VRXA8WA3RNdpPWGchJBgjA4NgQMBXtKYizwO9VEQuVkMkVDJAIoiMBwqD2GAdgAAU-hgTdqFdeQSNNLVaLw9gQylLiFXNQMzF0VFjlOAAvZwCESbF2G4ej1iiARnlQK52gABnYVMZiwdpDzrGZuxYedNIAFn09gADZ9MM9YwFAgAxH1oESTT-GcQ5EUdTAmKEfgliIahKDgEzEQcusnJoZwICky52AARgsoz5FVINUHEqYAEE5kU9howY8gbCgdBI3YeROUUsRCrjGR2FReSYG4YBjxkuTsXkXd62AEroHK4IADIhvGRJ5koZp-rKiruDm-UwFCLK-1Qdp2AAfg2AbI2jaqrmmwbUHkON91kMxPzMWENWOGAwDCKApl2mq6rrRg8rXOsLCe7hauAdcLGy9g4oA5zhTlJSivYDCciq56_s--sAeoCSnIEIhtWiVwCuhnB0Ex_76y6Ag-nMWMEcR5MZB6imKYAOR9RLGDQGZwjG-Y-BAWgsFEEB6JwfnodjXh2lQBneGFzlOJ3AmacYDwjml8mafYAA1DJ8moK4mdQFmpjk9n-C5nm-YF1QhfaVh1YGIMJal6nleTeX2EVh3Ef1eAKjSZBxbWn3jqV2XmfCGXlf1lrDewHmQ5p6h7D8ecWuAbofuUgPXZxuAJ0h084E9xLAIIVw1InHBWHiRlKs_V2Kfkf3q4sF367lhX7Yd7Xdejimw45jxwgiIMQE7xGy6gRkOYZDwiBefgh_rWOoFibZWu-2qTmcN4p4IaMcbxwvJdnxvq_jWRgFR9HMZwUXT3kKQqdn4-xFPsGMcL0ureoG_Ttb5WH6ftGX9cDgHOedP53zTnuMBDsq41wJotZa1tJLr0ni8aMu9XDVXhg7cSlA_RQEoCkc2E9N4-yWGg6BiM64U0BgAdUyHMbIwNyQwFBmjbGsF4IwGjIw2ALCiDkPrIDFW8QuBZF4QVSG0NK7PTJm3SBrt6ani1kHPW41w6c0jvwE2OBBY-yvkyW2ztv6I2boYzuasBAaw0g2ZRbM1FG00cAfm2izY-0thY62JD2AjxEbQSWpjwENidofCmt8EwE34UjVAElvG72ToVBieilgj0ZEsKA_gCBCNHjAUhmMpEp0wcrbBuD8Hm2oM5CAS50Bx3cGkTxiSvHl2yewNJqJMkpOOJjCJhMJwk2dgAPQANo4HFugAAugAagACSSBwLQVE0ZkkwC6ZQxGNC6HzHQJknxzCwZsMwhw6MWzYm8K6eQFpdgGioBeAAsRkc6DoDsMxLobFsxTAKTTT4W4aDai4PqNoNAnrvNDoSHAQ5KB3GcRgXGuSlJAodnoq4Ps8BQHUBaUIEASGzzcZYxFwtUw4C0gSzFASVkwLTjOGMGDO6AwYpIziSkJi2FBcOOA1LkbSmfjCqGqhoWF07kTXpMim5yPruwBRjMbHdwjtzBxTidHCz0T7PxwSj5BKMcrcxOLrE61ZlK9RMreaONNhgc22KPEGJVa7ExlrZEJj_ufV-ejQFhICcYqm9qAFv3cR_UJZ1XUNi_p3LpFhSUhoJms2YGzLnXMxmIpS0MsKcOjTqWNYNTnssaFclNhcWGMRZeI2lxFYb5JDoDM-AC9noF5a4EOAqBCk07g_We4qlE6pUQbfVxsjWQufLosWFr1XGLVbPTV1tW261sRzexhq5UuOFuUcgSq7b32Hf63-5aL5Ot9YO-s67OWvwXc6v1R9A1p2WeGjNtDI3ZGTQAvN4K7BKSombMFI4U6vrgKC1waROQtizTc4U967hdLrQ2tOTaAkpgAExiG4TAasMHG1XvoegODYjoZoNagkhmuL2jItRein2lVl2QbwDBo5WR2DlMqQhndjBkMbIo7QMRNrd1kbEARTgWaOmF1o0h9ZN7_2ptYax5M7HJFoK4h-vjkGGOCZjYXIDdgTJpCw-wBF7AfYsDgFQNxiRPELtw1jLwlBtgAEIiO138W3U9NN-GUKkO9WsnJfwgAogmjhQEyA6FAvoBguFrrPowEJT0QX0CiUyldB0mA7qhAekaJaUprbRjk1Up07EaBUrrKBwseJqLPl_all5-hvxmH9q5iiYWvPaF0GBAwEEAsOgEgQJYDFis5k4saUiZolQZUa1MIDlhVF2Hrl1-Ur6LRhzgBFy6WA-IxfutKRLK1owfssJQABWWLBrY21ynbFaAA-B3Cor3U3FqApXss9PrYVIr6XXnVRLQjM5_g7D5fa1MO5GA7AfdTjTVE0RYiDmHEN-Yj6_vKww5jK4g3hs4EoB4dQWxRBK3SuCJW2V0RSmFKtllW3lYMjhLjh9l2HaMs_QD2gBU4UUzQVcbt-3MbE-A6G-saPMpk5BZIhlXOeWC3J6T5WupEfI9xrdNAMAgMZDktGcnPaljtDQYZCHDsLxXFO3LyngE0FGWrpnAg6uyHPU1xOWSWRIaSaqiHKqGVOdMozhOAqJuCA9tl4SQXFD0f_azkbmnFgIDNFl6oyaPGsZzSUu0VEc4UgfhV4U5GODAIjCLqgF8HmEL6-jPUxZ1VbA3SHFsLIixciZ0alnbDiiGlZKkWgVEEoq0fmVA3SQMI4ALxoFaWwiaLTt6ZAEyTsL2ADLQaMq4RcUihFvAQOAAykqjMqrb5WrOLAD60ZrwutBq1LCcWg9nduKem435whiluPds69xTQW9SwBfjj4jWAUxFlO5BVr6tAy9GjMXzTJ_Skf_zSWjFhLjkEdlXhXOHmdgkBtPKGtFcIsl_hTDln7vWBpokp3Isrrq7LHPHF7IVEsnDLPIDC6CMG0nEnLpAA9BkCQVngzEsAXOPiXOgUaF-PAfvjgJngxO_gzKPupjAMQY0pXCwWSg7HvmSrAtALQAIFQdno0ksDfvjh8hmqvuvlkNWoIZEhJC0hkvwUpGgpwaeJ_iHAHoVDfuwCNEwZDNIVkqkukiQTkoXHkvNHdFAJnPIcrDlpoSQWoZVLWtduYHAQTP7ATBSgIICj4cTDdkKm3HdlmK6N2nLh-pxNDK1HLtDIkaoJhsAMoZvrvtZsrGfmGgjIEQjDlu9vdvoIvuzuVkoCABFNsN-oBJoNQN5rVn5hBAUvwIqkgJpj5uUCCN4BkBaP-EwkFOsPwGatQPwIiiAISjMSMXWPwAuv0DMCtJMd0TlI1LhAhEMQhJgOSJQIkAWHkAUNOFqBaECMSFUP0QIHMRYPwFEGgKsfwKoNgEBDcd0bsfcgiBUqyl0UCvwD1jzFMX0klDZASkSiABgbcTUcOJNsNo8SAMCQAKw4DIkAAcbxUJAJVokQ8JwJoJsxg8dY_s8grmFx1QHw1AkAKQQETRNWvm4EIAf06ivoWQkx_A5AZotAFoWJka_AJJtc8gQAA",__position:1,__code:"() => {\n  const SimpleForm = ({ bind }) => {\n    const formData = bind.data\n    return (\n      <div>\n        Name: <input type=\"text\" {...bind('name')} />\n        <br />\n        Version: <input type=\"text\" {...bind('version')} />\n        <br />\n        Message:{' '}\n        <input\n          type=\"text\"\n          onChange={e => {\n            bind.set({ message: e.target.value })\n          }}\n        />\n        <br />\n        <input\n          type=\"button\"\n          value=\"submit\"\n          onClick={() => doSubmit(bind.data)}\n        />\n        <div>{formData.name}</div>\n        <div>{formData.version}</div>\n        <div>{formData.message}</div>\n      </div>\n    )\n  }\n  function doSubmit(data) {\n    console.log('submit', data)\n  }\n  const WrappedSimpleForm = bindable(SimpleForm)\n  const ValidateForm = ({ bind }) => (\n    <div>\n      Name: <input type=\"text\" {...bind('name')} />\n      <br />\n      Version: <input type=\"text\" {...bind('version', validate)} />\n      <br />\n    </div>\n  )\n  const validate = ({ name, value, lastValue, data }) => {\n    console.log('onFieldChange', name, value, lastValue, data)\n    return /^[.d]+$/.test(value)\n  }\n  const WrappedValidateForm = bindable(ValidateForm)\n  class InitDataForm extends PureComponent {\n    componentDidMount() {\n      this.props.bind.data = {\n        name: 'hlj-ui',\n        version: '3.0.0',\n      }\n    }\n    render() {\n      const { bind } = this.props\n      const formData = bind.data\n      return (\n        <div>\n          Name: <input type=\"text\" {...bind('name')} />\n          <br />\n          Version: <input type=\"text\" {...bind('version')} />\n          <br />\n          <div>{formData.name}</div>\n          <div>{formData.version}</div>\n        </div>\n      )\n    }\n  }\n  const WrappedInitDataForm = bindable(InitDataForm)\n  const InitDataForProps = ({ bind }) => {\n    const formData = bind.data\n    return (\n      <div>\n        Name: <input type=\"text\" {...bind('name')} />\n        <br />\n        Version: <input type=\"text\" {...bind('desc')} />\n        <br />\n        <div>{formData.name}</div>\n        <div>{formData.desc}</div>\n      </div>\n    )\n  }\n  const WrappedInitDataProps = withBind(props => props.page)(InitDataForProps)\n  return (\n    <div>\n      <h2>Simple</h2>\n      <WrappedSimpleForm binddata={{ name: 'hlj-ui' }} />\n      <h2>Validate Field</h2>\n      <WrappedValidateForm />\n      <h2>with init data</h2>\n      <WrappedInitDataForm />\n      <h2>bind data from props</h2>\n      <WrappedInitDataProps page={{ name: 'discovery', desc: 'a book!' }} />\n    </div>\n  )\n}",__scope:{props:t,bindable:E,withBind:v,PureComponent:a.PureComponent}},function(){var e=E(function(e){var n=e.bind,t=n.data;return r.a.createElement("div",null,"Name: ",r.a.createElement("input",Object.assign({type:"text"},n("name"))),r.a.createElement("br",null),"Version: ",r.a.createElement("input",Object.assign({type:"text"},n("version"))),r.a.createElement("br",null),"Message: ",r.a.createElement("input",{type:"text",onChange:function(e){n.set({message:e.target.value})}}),r.a.createElement("br",null),r.a.createElement("input",{type:"button",value:"submit",onClick:function(){return e=n.data,void console.log("submit",e);var e}}),r.a.createElement("div",null,t.name),r.a.createElement("div",null,t.version),r.a.createElement("div",null,t.message))}),n=function(e){var n=e.name,t=e.value,a=e.lastValue,r=e.data;return console.log("onFieldChange",n,t,a,r),/^[.\d]+$/.test(t)},t=E(function(e){var t=e.bind;return r.a.createElement("div",null,"Name: ",r.a.createElement("input",Object.assign({type:"text"},t("name"))),r.a.createElement("br",null),"Version: ",r.a.createElement("input",Object.assign({type:"text"},t("version",n))),r.a.createElement("br",null))}),o=E(function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),w(this,j(n).apply(this,arguments))}var t,o,i;return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&O(e,n)}(n,a["PureComponent"]),t=n,(o=[{key:"componentDidMount",value:function(){this.props.bind.data={name:"hlj-ui",version:"3.0.0"}}},{key:"render",value:function(){var e=this.props.bind,n=e.data;return r.a.createElement("div",null,"Name: ",r.a.createElement("input",Object.assign({type:"text"},e("name"))),r.a.createElement("br",null),"Version: ",r.a.createElement("input",Object.assign({type:"text"},e("version"))),r.a.createElement("br",null),r.a.createElement("div",null,n.name),r.a.createElement("div",null,n.version))}}])&&y(t.prototype,o),i&&y(t,i),n}()),i=v(function(e){return e.page})(function(e){var n=e.bind,t=n.data;return r.a.createElement("div",null,"Name: ",r.a.createElement("input",Object.assign({type:"text"},n("name"))),r.a.createElement("br",null),"Version: ",r.a.createElement("input",Object.assign({type:"text"},n("desc"))),r.a.createElement("br",null),r.a.createElement("div",null,t.name),r.a.createElement("div",null,t.desc))});return r.a.createElement("div",null,r.a.createElement("h2",null,"Simple"),r.a.createElement(e,{binddata:{name:"hlj-ui"}}),r.a.createElement("h2",null,"Validate Field"),r.a.createElement(t,null),r.a.createElement("h2",null,"with init data"),r.a.createElement(o,null),r.a.createElement("h2",null,"bind data from props"),r.a.createElement(i,{page:{name:"discovery",desc:"a book!"}}))}))}}}]);