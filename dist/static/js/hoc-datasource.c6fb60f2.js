(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"./hoc/datasource.mdx":function(o,t,n){"use strict";n.r(t);var e=n("./node_modules/react/index.js"),r=n.n(e),i=n("./node_modules/@mdx-js/tag/dist/index.js"),a=n("./node_modules/docz/dist/index.m.js"),s=n("./node_modules/prop-types/index.js"),c=n.n(s);function l(o){return(l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"===typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}function d(o){return(d="function"===typeof Symbol&&"symbol"===l(Symbol.iterator)?function(o){return l(o)}:function(o){return o&&"function"===typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":l(o)})(o)}function u(){return(u=Object.assign||function(o){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(o[e]=n[e])}return o}).apply(this,arguments)}function A(o,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}function p(o){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function f(o,t){return(f=Object.setPrototypeOf||function(o,t){return o.__proto__=t,o})(o,t)}function m(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}var g=function(o){return function(t){return function(n){function i(o){var t,n,e;return function(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=this,(t=!(e=p(i).call(this,o))||"object"!==d(e)&&"function"!==typeof e?m(n):e).state={data:void 0,error:void 0,loading:!1},t.load=t.load.bind(m(m(t))),t}var a,s,c;return function(o,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),t&&f(o,t)}(i,e["Component"]),a=i,(s=[{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:function(t){var n=this;this.setState({loading:!0}),o(t,this.state.data,this.props).then(function(o){n.setState({data:o,loading:!1})}).catch(function(o){window.console.error(o),n.setState({error:o,loading:!1})})}},{key:"render",value:function(){var o=this.state,n={data:o.data,error:o.error,loading:o.loading,load:this.load};return r.a.createElement(t,u({},this.props,{ds:n}))}}])&&A(a.prototype,s),c&&A(a,c),i}()}};function b(o,t){if(null==o)return{};var n,e,r=function(o,t){if(null==o)return{};var n,e,r={},i=Object.keys(o);for(e=0;e<i.length;e++)n=i[e],t.indexOf(n)>=0||(r[n]=o[n]);return r}(o,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(o);for(e=0;e<i.length;e++)n=i[e],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(o,n)&&(r[n]=o[n])}return r}t.default=function(o){var t=o.components,n=b(o,["components"]);return r.a.createElement(i.MDXTag,{name:"wrapper",components:t},r.a.createElement(i.MDXTag,{name:"h1",components:t,props:{id:"datasource"}},"datasource"),r.a.createElement(a.PropsTable,{of:g}),r.a.createElement(i.MDXTag,{name:"h2",components:t,props:{id:"\u7528\u4f8b"}},"\u7528\u4f8b"),r.a.createElement(a.Playground,{__codesandbox:"N4IgZglgNgpgziAXKCA7AJjAHgOgBYAuAtlEqAMYD2qBMNSIAPOhAG4AEE6AvADogAnSpQL8AfIwD0LVmJABfADQg0mXACsEyEFRp0CDSQCojvVO3YAVPBDjsAwpUwBlAIYYARpSzs8rux4wdOyuAK4ElESuBBDkrlBQAJ7sAOZ0MALRMOjsoXBoKWYWAAZUmHDu6F5YGcU47ACSYOyJlKEA5AIw7OShAhBtdniUAO7sBH4Evq4ADjPp6IotbT3uRT14MOQA1uxtU20C7OiU5EMZMIi-BAQzcIiSkikQE6EeOFREkqiUrGiJkjK8Eq1QyZnWTWWoXY2Hm_To5G67mScAIAlCKRSsDsIxeeHGNjsFU83iWM1g_m6mVsSPMtjgoRg62oqTxb3qiAAlGYjJIzBAiDNKAIpgAlGCuchTMBCIjsToSqXtADc_MFwrFioIABEAPIAWXYMsi8q6koIAFoTkQVWqhSKHJEhah9EbZfKcJJsK5BbAcJpbagzOLzXr9TguhgMgAKdbMNhidYWRh4ADMYkc6pdNE46pF2XYuImPScwJJNQEiCkacT5gs7EYMzE0YaUyiyRdBdc6BYMWo8XYMyEd3GlFSMCmL3Ykcw_VQKULMASnKkTaTDczztdklryekCcUZhOvSI-hwaQIAFFYKeaAAhRINdDRzrCAjtbmoTnKhTKb2-mB_S0ChqFoehEBUPMpgABWHSxEnmOxjTldoh0oGYLQIBD4EDAV7SmdBon8Q5ETdE12k9YZyGkIi4BImBcKg9gQylMiULNJVVSDVBdFRY5TgAL2cLDsXYbh2GAdYogEZ5UCudoAAZ2FTGYsHaQ86xmbsWHneSABZVPYAA2VT1PWMBQIAMR9aBEnk_hnHox1MHYWDKH4JYiGoSg4C0xEzLrCyaGcCABMudgAEY9I0-QuLMXipgAQTmMT2GjYANmgdBI3YeROTEsQ0rjGR2FRRJYG4YBjyEkT4HkXd62AcgbCgbLggAMna8ZsMoZpmqynLuCG-UwFCHi-1Qdp2AAfky1rI2jfKrn6-a6HkON91kMxPzMWENWOGAwDCKApkWgqirrRhkrXOsLDO7hCsk276wS9goEobsMlS6NUVcB1xIUpZCIIVxUoAbQAXTJYc4Hyh6JPXetpwnPpzBdMY3KIGloy6OioFYbp4aepGSdKidLAFGB9mje7HsR0mS1QPivEobY7HE4HXBwOAoFiGBFvp0mLKOaNYEnVKFOVTgG3YABWKWIAAakV_LiYZ0mWbZnAZjyPB0vYVAfXCtC7hwGICFgdhFbS36HWtiB8rywWSfW571dxyh8f5zXYediwlDlhSFM_dWnbd3L6bF9g72ENnvoy9A7Dy861dJ16fdSxOcE552IGaaMAEIfdVv3kYIVGGxK8goH8OAADkjb4EB3u7ApxEAY2tAAp1QACpUAX3jAFo5HAh6kGQGtJ133ZRgRzFjcOkfjLa55J4AfZwKIZhpzWllUbA4cK2f1dJhf2G2GBEkqnesHqlfY5wQ3T3kEeE1LixOU5CfD4sKq4BwFudIXTqlc2A9BrnAeujd-B_zbiAMQXc-6D2HptMQH9P6MA8OECI5hqD2F5jsSqtNjg_z_tGVesB5wTHfmIF0WACBSHQTcagY8GZP0XurEOLt6Yx1Zj_E28FEKpVTiTROVw3IzD4fAHAlAPDqC2AQDS49OGx3ZscWi9FRYfVnJyaMXC2bsKRl0cu08Gw6LsObCq_B9SJB0fwdgO51wfykNdWsnJfwgCojREGdE-iIiAmQHQoF9AMDwvtFiciJKOizK6eQbFTRakDOCah-EDpHVCCdI0Y0pQDFQOoz6AgS51gMRXUa40snRgAOqZDmNkTc1B9D5KRtXWu7BtREUct4mANTsxTGwGBROEStw5kERYBK6IpTCmjCbWGCMl4MjhBMmG35nYTFsNzEGtABGl05lcMamBIAukWKXDIQhKy5CjHs7I8jD5QN0kaeIcAmRL1ikswkv8NGpWWUQjROAPCqGjB8xZ4dXb00-AMnUXB9RtBoGdIZ9YPmvO7ItLiCjuKk2IQAR0ZAIRI9SGZwvuQQYSWR9bXJSFcNEjJcoAvVn_GMGKMiJCWHitZgFOaMpeZMzkZtNjZM5inUueKJyEtoPrVlb0NEFCuEdKA9zKVIoZnlD40RmrRiOcKPlS8LC4gwKMD41A8aAVVQIFVAhjlUsPgKglzL9aGqWCSyVdzuh5TlePM1SMgXhxnDGHFac9VTATkRJYNqxWt3nLld5Lzfq0GdSTV6fTxL-pBoGk1wpbXivnKm7sZKXl_1ytG_RU8Z6l0YBU2Y8x0CdNdMAIeXKVmTOiYnSqidol2KXq6-sKCI4ovrIUoxLSQZtIEIiCtNA5VPNQK7VxfltiuDSEBagfjdBgQMBBNW_B75MiQOwfgQJiRVG8BkC0_5yQbsufwAmAh8jUH4FcfgCkcB3oUh5dY_ByjkH6DMCa16t0gESqVPClsj2W0wOSSgiQCx5AKMjc0Fod0gn3QIJ9dZ-BRDQF-_gl8gKIYsC-mA8wow8QgPAL9gj-Am0wthOAaGQAAD0IqyxwPRgAHFh-s_AOKiE3fwWjRl733pY9hwQWorSRCo9x3jj6QDrFdvIVxu7qi6tQJAFIc7UALoCeBEAkkQC0F9Fka926zS0AtOxi0pb-AyfkJZoAA",__position:1,__code:'() => {\n  const loader = (start = 0, data = [], props) => {\n    return new Promise(resolve => {\n      setTimeout(() => {\n        const books = data.slice()\n        for (let i = 0; i < 5; i++) {\n          books.push({ name: props.title + (start + i) })\n        }\n        resolve(books)\n      }, 500)\n    })\n  }\n  let Books = ({ ds }) => {\n    const books = ds.data\n    if (!books) {\n      return <div className="loading">\u6b63\u5728\u52a0\u8f7d\u4e2d...</div>\n    }\n    return (\n      <div>\n        {books.map((book, index) => (\n          <div key={index}>{book.name}</div>\n        ))}\n        {ds.loading && <div className="loading">\u6b63\u5728\u52a0\u8f7d\u4e2d...</div>}\n        <button onClick={() => ds.load(books.length)}>next</button>\n      </div>\n    )\n  }\n  Books.propTypes = {\n    ds: PropTypes.object,\n  }\n  Books = datasource(loader)(Books)\n  return <Books title="MyBook" />\n}',__scope:{props:n,PropTypes:c.a,datasource:g}},function(){var o=function(o){var t=o.ds,n=t.data;return n?r.a.createElement("div",null,n.map(function(o,t){return r.a.createElement("div",{key:t},o.name)}),t.loading&&r.a.createElement("div",{className:"loading"},"\u6b63\u5728\u52a0\u8f7d\u4e2d..."),r.a.createElement("button",{onClick:function(){return t.load(n.length)}},"next")):r.a.createElement("div",{className:"loading"},"\u6b63\u5728\u52a0\u8f7d\u4e2d...")};return o=g(function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return new Promise(function(e){setTimeout(function(){for(var r=t.slice(),i=0;i<5;i++)r.push({name:n.title+(o+i)});e(r)},500)})})(o),r.a.createElement(o,{title:"MyBook"})}))}}}]);